---
title: "How to enable clang warning option for clang tidy"
permalink: /clang_warning_enabled_in_clang_tidy/
layout: default
---

# clang_diagnositic_[warning/error] in clang-tidy


clang-tidy will emit clang warning/error when clang front end (CFE) found some issue

like below,  `unused-variable` is generated by clang itself, and clang-tidy add `clang-diagnostic-` prefix

~~~shell
/Users/zyg/Documents/workspace/cert/library.cpp:24:9: warning: unused variable 'a' [clang-diagnostic-unused-variable]
    int a = *pt;
~~~

# enable/disable some warning by compile command

Like I have said, clang itself emit such warning, so we can use compile command to enable/disable warning

such as, if we want to enable unreachable_code warning

~~~shell
$ cmake .. -DCMAKE_CXX_FLAGS='-Wunreachable-code' ..
$ cat compile_commands.json
[
{
  "directory": "/Users/zyg/Documents/workspace/cert/cmake-build-debug",
  "command": "/usr/local/Cellar/llvm/10.0.1_1/bin/clang++   -Wunreachable-code -g -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.15.sdk -std=gnu++11 -o CMakeFiles/cert.dir/library.cpp.o -c /Users/zyg/Documents/workspace/cert/library.cpp",
  "file": "/Users/zyg/Documents/workspace/cert/library.cpp"
}
~~~

then `clang-diagnostic-unreachable-code` warning can be seen.

# clang warning reference

clang warning refer [clang link](https://clang.llvm.org/docs/DiagnosticsReference.html)


